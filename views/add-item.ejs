<%- include('partials/head', { title: 'Add Food', showBack: true }) %>
<div class="grid gap-4">
  <h2 class="text-xl font-bold">Add Food</h2>
  <% if (error) { %>
    <div class="bg-red-50 text-red-800 border border-red-200 rounded px-3 py-2 text-sm"><%= error %></div>
  <% } %>
  <form method="post" action="/admin/items" class="space-y-3">
    <div>
      <label class="block text-xs font-medium">Name</label>
      <input name="name" class="w-full border rounded px-3 py-2" required />
    </div>
    <div class="grid grid-cols-2 gap-3">
      <div>
        <label class="block text-xs font-medium">Cost of Making (₹)</label>
        <input name="cost" type="number" step="0.01" min="0" class="w-full border rounded px-3 py-2" required />
      </div>
      <div>
        <label class="block text-xs font-medium">Market Price (₹)</label>
        <input name="price" type="number" step="0.01" min="0" class="w-full border rounded px-3 py-2" required />
      </div>
    </div>
    <button class="btn-primary">Add</button>
  </form>

  <div class="flex items-center justify-center pt-2">
    <button id="btn-remove-items" class="btn-danger">Remove</button>
  </div>

  <div class="flex items-center justify-center pt-2">
    <button id="btn-reset-data" class="btn-secondary">Reset Data</button>
  </div>

  <div id="remove-modal" class="hidden">
    <div class="modal-card">
      <div class="modal-header">
        <h3 class="font-semibold">Remove Foods</h3>
        <button id="rm-cancel" class="text-sm text-slate-600">Cancel</button>
      </div>
      <div id="rm-list" class="modal-body"></div>
      <div class="modal-footer">
        <div class="text-xs text-slate-500">Select items to remove</div>
        <button id="rm-apply" class="btn-danger">Apply</button>
      </div>
    </div>
  </div>
</div>
<div id="reset-modal" class="hidden">
  <div class="modal-card">
    <div class="modal-header">
      <h3 class="font-semibold">Reset Data</h3>
      <button id="reset-cancel" class="text-sm text-slate-600">Cancel</button>
    </div>
    <div class="modal-body space-y-3">
      <div>
        <label class="block text-xs font-medium">Reset Password</label>
        <input id="reset-pwd" type="password" class="w-full border rounded px-3 py-2" placeholder="Enter password" />
      </div>
      <div class="space-y-2">
        <label class="flex items-center gap-2"><input id="reset-scope-tokens" type="radio" name="reset-scope" checked /> <span>Tokens only (restart token numbers from the beginning)</span></label>
        <label class="flex items-center gap-2"><input id="reset-scope-all" type="radio" name="reset-scope" /> <span>All data (orders, availability, messages, items, tokens)</span></label>
      </div>
      <div class="text-xs text-slate-500">This action is irreversible.</div>
    </div>
    <div class="modal-footer">
      <div></div>
      <button id="reset-apply" class="btn-danger">Confirm Reset</button>
    </div>
  </div>
</div>
<script src="/public/js/admin-items.js?v=<%= assetVersion %>"></script>
<%- include('partials/foot') %>
